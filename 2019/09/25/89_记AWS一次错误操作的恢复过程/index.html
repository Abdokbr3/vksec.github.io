<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">





<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="网络安全,AWS,">





  <link rel="alternate" href="/atom.xml" title="Openresty Python LUA" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="请输入密码,有问题请加QQ群:397745473">
<meta name="keywords" content="网络安全,AWS">
<meta property="og:type" content="article">
<meta property="og:title" content="记AWS一次错误操作的恢复过程">
<meta property="og:url" content="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/index.html">
<meta property="og:site_name" content="Openresty Python LUA">
<meta property="og:description" content="请输入密码,有问题请加QQ群:397745473">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-25T06:05:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记AWS一次错误操作的恢复过程">
<meta name="twitter:description" content="请输入密码,有问题请加QQ群:397745473">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">



  <title>记AWS一次错误操作的恢复过程 | Openresty Python LUA</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Openresty Python LUA</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">QQ群:397745473</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>

<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="vsyour">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://i.imgur.com/luMBjvD.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Openresty Python LUA">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                记AWS一次错误操作的恢复过程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-25T03:03:03+08:00">
                2019-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS/" itemprop="url" rel="index">
                    <span itemprop="name">AWS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/25/89_记AWS一次错误操作的恢复过程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/25/89_记AWS一次错误操作的恢复过程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="请输入密码,有问题请加QQ群:397745473">
    <label for="pass">请输入密码,有问题请加QQ群:397745473</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络安全/" rel="tag"># 网络安全</a>
          
            <a href="/tags/AWS/" rel="tag"># AWS</a>
          
           <a href="https://book.xd10086.com/categories/%E9%BB%91%E5%AE%A2/" rel="tag"># 黑客书籍</a>
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/24/88_FRP搭建/" rel="next" title="FRP服务器搭建">
                <i class="fa fa-chevron-left"></i> FRP服务器搭建
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/26/91_crontab使用技巧/" rel="prev" title="crontab使用技巧">
                crontab使用技巧 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    <div class="post-spread">
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<img src="https://i.imgur.com/0ivBlsQ.jpg" alt="知识星球">

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://i.imgur.com/luMBjvD.jpg" alt="vsyour">
          <p class="site-author-name" itemprop="name">vsyour</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">177</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">72</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vsyour" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vsyour" target="_blank" title="新浪微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  新浪微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/vsyour" target="_blank" title="FaceBook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  FaceBook
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.vksec.com/" title="Openresti" target="_blank">Openresti</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.vsyour.com/" title="Blog" target="_blank">Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://vksec.com/2018/01/29/23_vksec_操作记录/" title="操作记录" target="_blank">操作记录</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://shang.qq.com/wpa/qunwpa?idkey=c3e0580ecf8d705036d1901d44121f3b4e2c3b6a4ad7b417e968784345b01380" title="QQ群" target="_blank">QQ群</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vsyour</span>
</div>


<!-- <div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>


<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://vksec.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.identifier = '2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.title = '记AWS一次错误操作的恢复过程';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://vksec.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      $('#local-search-input').focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            var resultItems = [];
            if (this.value.trim().length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCountInArticle = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword, i) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCountInArticle = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  var resultItem = '';

                  function highlightKeyword(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;

                    var matchText = text.substring(start, end);
                    var matchResult = [];
                    var prevEnd = 0;
                    while (position + word.length <= end && index.length != 0) {

                      // highlight keyword

                      var wordBegin = position - start;
                      var wordEnd = position - start + word.length;
                      matchResult.push(matchText.substring(prevEnd, wordBegin));
                      matchResult.push("<b class=\"search-keyword\">" + matchText.substring(wordBegin, wordEnd) + "</b>");

                      // move to next position of hit

                      index.pop();
                      prevEnd = wordEnd;
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (prevEnd > position - start) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    matchResult.push(matchText.substring(prevEnd));
                    return matchResult.join('');
                  }

                  // sort index by position of keyword

                  indexOfTitle.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  indexOfContent.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  // highlight title

                  if (indexOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, 0, title.length, indexOfTitle) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  // highlight content

                  var resultUpperBound = parseInt(1);
                  var withoutUpperBound = false;
                  if (resultUpperBound === -1) {
                    withoutUpperBound = true;
                  }
                  var currentResultNum = 0;
                  while (indexOfContent.length != 0 && (withoutUpperBound || (currentResultNum < resultUpperBound))) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    resultItem += "<a href='" + articleUrl + "'>" +
                    "<p class=\"search-result\">" + highlightKeyword(content, start, end, indexOfContent) +
                    "...</p>" + "</a>";
                    currentResultNum++;
                  }
                  resultItem += "</li>";
                  resultItems.push({item: resultItem, hitCount: hitCountInArticle, id: resultItems.length});
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.hitCount != resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultLeft.id - resultRight.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result, i) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              $resultContent.innerHTML = searchResultList;
            }
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
