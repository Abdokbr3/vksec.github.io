<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">





<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="网络安全,AWS,">





  <link rel="alternate" href="/atom.xml" title="Openresty Python LUA" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="请输入密码,有问题请加QQ群:397745473">
<meta name="keywords" content="网络安全,AWS">
<meta property="og:type" content="article">
<meta property="og:title" content="记AWS一次错误操作的恢复过程">
<meta property="og:url" content="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/index.html">
<meta property="og:site_name" content="Openresty Python LUA">
<meta property="og:description" content="请输入密码,有问题请加QQ群:397745473">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-25T06:05:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记AWS一次错误操作的恢复过程">
<meta name="twitter:description" content="请输入密码,有问题请加QQ群:397745473">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">



  <title>记AWS一次错误操作的恢复过程 | Openresty Python LUA</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Openresty Python LUA</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">QQ群:397745473</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>

<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="vsyour">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://i.imgur.com/luMBjvD.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Openresty Python LUA">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                记AWS一次错误操作的恢复过程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-25T03:03:03+08:00">
                2019-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS/" itemprop="url" rel="index">
                    <span itemprop="name">AWS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/25/89_记AWS一次错误操作的恢复过程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/25/89_记AWS一次错误操作的恢复过程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="请输入密码,有问题请加QQ群:397745473">
    <label for="pass">请输入密码,有问题请加QQ群:397745473</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络安全/" rel="tag"># 网络安全</a>
          
            <a href="/tags/AWS/" rel="tag"># AWS</a>
          
           <a href="https://book.xd10086.com/categories/%E9%BB%91%E5%AE%A2/" rel="tag"># 黑客书籍</a>
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/24/88_FRP搭建/" rel="next" title="FRP服务器搭建">
                <i class="fa fa-chevron-left"></i> FRP服务器搭建
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/26/91_crontab使用技巧/" rel="prev" title="crontab使用技巧">
                crontab使用技巧 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    <div class="post-spread">
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<img src="https://i.imgur.com/eGNMc8d.png" alt="知识星球">

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://i.imgur.com/luMBjvD.jpg" alt="vsyour">
          <p class="site-author-name" itemprop="name">vsyour</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">203</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">72</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vsyour" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vsyour" target="_blank" title="新浪微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  新浪微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/vsyour" target="_blank" title="FaceBook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  FaceBook
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.vksec.com/" title="Openresti" target="_blank">Openresti</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.vsyour.com/" title="Blog" target="_blank">Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://vksec.com/2018/01/29/23_vksec_操作记录/" title="操作记录" target="_blank">操作记录</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://shang.qq.com/wpa/qunwpa?idkey=c3e0580ecf8d705036d1901d44121f3b4e2c3b6a4ad7b417e968784345b01380" title="QQ群" target="_blank">QQ群</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vsyour</span>
</div>


<!-- <div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>


<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://vksec.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.identifier = '2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.title = '记AWS一次错误操作的恢复过程';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://vksec.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      $('#local-search-input').focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            var resultItems = [];
            if (this.value.trim().length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCountInArticle = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword, i) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCountInArticle = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  var resultItem = '';

                  function highlightKeyword(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;

                    var matchText = text.substring(start, end);
                    var matchResult = [];
                    var prevEnd = 0;
                    while (position + word.length <= end && index.length != 0) {

                      // highlight keyword

                      var wordBegin = position - start;
                      var wordEnd = position - start + word.length;
                      matchResult.push(matchText.substring(prevEnd, wordBegin));
                      matchResult.push("<b class=\"search-keyword\">" + matchText.substring(wordBegin, wordEnd) + "</b>");

                      // move to next position of hit

                      index.pop();
                      prevEnd = wordEnd;
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (prevEnd > position - start) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    matchResult.push(matchText.substring(prevEnd));
                    return matchResult.join('');
                  }

                  // sort index by position of keyword

                  indexOfTitle.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  indexOfContent.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  // highlight title

                  if (indexOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, 0, title.length, indexOfTitle) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  // highlight content

                  var resultUpperBound = parseInt(1);
                  var withoutUpperBound = false;
                  if (resultUpperBound === -1) {
                    withoutUpperBound = true;
                  }
                  var currentResultNum = 0;
                  while (indexOfContent.length != 0 && (withoutUpperBound || (currentResultNum < resultUpperBound))) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    resultItem += "<a href='" + articleUrl + "'>" +
                    "<p class=\"search-result\">" + highlightKeyword(content, start, end, indexOfContent) +
                    "...</p>" + "</a>";
                    currentResultNum++;
                  }
                  resultItem += "</li>";
                  resultItems.push({item: resultItem, hitCount: hitCountInArticle, id: resultItems.length});
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.hitCount != resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultLeft.id - resultRight.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result, i) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              $resultContent.innerHTML = searchResultList;
            }
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
