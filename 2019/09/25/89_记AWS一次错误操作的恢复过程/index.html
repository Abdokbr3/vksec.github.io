<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">





<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="网络安全,AWS,">





  <link rel="alternate" href="/atom.xml" title="Openresty Python LUA" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="请输入密码,有问题请加QQ群:397745473">
<meta name="keywords" content="网络安全,AWS">
<meta property="og:type" content="article">
<meta property="og:title" content="记AWS一次错误操作的恢复过程">
<meta property="og:url" content="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/index.html">
<meta property="og:site_name" content="Openresty Python LUA">
<meta property="og:description" content="请输入密码,有问题请加QQ群:397745473">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-25T06:05:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记AWS一次错误操作的恢复过程">
<meta name="twitter:description" content="请输入密码,有问题请加QQ群:397745473">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">



  <title>记AWS一次错误操作的恢复过程 | Openresty Python LUA</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Openresty Python LUA</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">QQ群:397745473</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>

<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="vsyour">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://i.imgur.com/luMBjvD.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Openresty Python LUA">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                记AWS一次错误操作的恢复过程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-25T03:03:03+08:00">
                2019-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS/" itemprop="url" rel="index">
                    <span itemprop="name">AWS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/25/89_记AWS一次错误操作的恢复过程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/25/89_记AWS一次错误操作的恢复过程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="请输入密码,有问题请加QQ群:397745473">
    <label for="pass">请输入密码,有问题请加QQ群:397745473</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
U2FsdGVkX1+PIo2alQoR6GJbAFNV4pZF+XXZkv57Kul5dJRq72w3TCjem46Jb8Y/uDgbeaUFjRGIt1JXXUiamLx57pBCkKzKeA0wvK9rEtKy4L+NiVVPTfF27PjnnXHsUwOeWk9BoVGyS84knsrSpXnqpj2/Y4rfPWhEfvPPhMniNvBmoakrRgZHrqvawNm7mt4fS+Haxf7BZNkqGHn+lMI/XWFSIgUkxFHRi43QuZgcuvyTAV++85/qcBoZDLY94VMwZykvATFuBbgg57shYm+NwvDx7TA3G7jer2hx4D9eA6qg4tobBR8t0bBP2OeTirDQeQ6nSxtsFlWObdpz0cRh4H4XkwME3E5Wq0ApGzSTmPi26EyfjakcFPQcVFkT9drm2c74nF+dffDwmosMuchzbyJ3nU+Qh1GEm6zf242drVsT1no0tMgWv+FqmybGtXGHntdoKHTPiczrcpLdh4k+Cu8O5SwH2oER/3X0LHKk6k5P5o8nmbjdBAaHoxSSVGeIiPfPWjB8UpkrCXD6IKUWP5ffB7VSO7wDXhBJzBDr20MaHA9JURBP4d1esQzP1WUrsoVrP3tks6gu2lUC0zpM9nUu3i98jgSfLkQxHC+L4e/xsiL3ItxEEsL21A8WwURPJtq07uPw6DZzMSpFPMAr147+xIwuAL083xGSudKg4Sie3iLZtgs9QtdUG0O5xUzU6ryISo0PeGE5oGwf3rzv/tfNmm8Ahz+86XGvDBcl23KwbCDi160dizTZ3QcbuHteYaymktFOWzSo79RXRczTvI23bGR1uBIi8N5gqvcSR2WOtqD1jjxmEdEC6npsQKHRI2zB6TqDVy3X9FIpnK9VaRoRkfBp1E/q7o15aqCJCtoMgHCGLJx57fod8gMAsWFBAP0wp+TfmgkdpWLGn8OigcCCSykuD4+eKi+sl0xWQ/6RWBHy8QbTvgcOT3qiBtRkKH39p0VRzWKaM/NFkaCcy3fhWnkEdXXB20ibTDZeLzZp3/3o9e9fzFGujq522DAet3nAW013dh5tlYh5xRPRTj1feDiJNnXI9Zwegcz++IZytujkkSlnG0M9dn3cRE9R/OaZwj1FzWsjo2PfmPhJnmj2v5dwA8hPd3yfX/TF4DQ6B/lDwbByoEqtTjX5gDiEADN+EJG7P/XPDSNz7k9CgRV0lTdWWj/CG/Erx0yxM3FiQVQN+5B5SddIGEF378MX2k+ioGXMQbR+Ao2Itg74aRJ5JiXc5ZTqXrt3BeS7xbIC+lcmrnRcGwe7KK2FDinfzkCR+8w/n7remAcZlvd3btSR1fTBVxHyHPn7VgmngKFFKUOzGd83B9jAFSzO15mPLNh64npH5eQ9VrtAq72xJn/WQAqZe1QiOeScnspQBNL0on0QjUGqOeDxb0IgojobLBgw9qdKOv2mSQxM1Le1O8Sva9JMwgryxKs+OOOWhU08V3xsE72UffdJUGQfP+ITwEshSgkBIiL2n73+vxCQHADvQuqbbtjgMKTxTjcPyN983HtyusUwd6gSErA4Na6dOf1E+sDBcZvSdXZ5Gj44LzyRheD2ccyfPjcPO1rzDnrr2eLnKDX123E1IfgWmxoGmgqkvoEPHI0eSAyKHdA4Kpjhb9WOSlv5RGDt1ginhoOU0q5/2eHTzM1zHWSSoDymaf65yAG9yN8G/QKPbEKWOIXjez+RjyzpROTpex2E4gb9wtyncKFDm0Jc3herbe3hKrCSLeNNJHyejOOVnxZGVApyf3lA2zV5I7jr6OtkvxwrInFkIL7rkfeUcWTboNZxt39OeviAFiELf7EyiOwZDEq3RQS1b00n/fMWWpimQWrxWn0Bfzur/wNEkSAQDpbbxKqN2QSvCHwgj2lCmHSlkD0YBfnAknaFY+aDGs38IMjakRQpqlp4mea0dY1OK9BL5tfhuuPrA/OslhzZG85N6vRvTz4FApWDQRwKUT1GFdRWMSU6Wa7mXK7F36PwVGVTJr0vy7HxpaZpEalr0gDw0mZwyrVeKN72aAiaOrvzfwHnIx2dniL6s5Z5yvcVgIaN8rj2QwifYch0vbhln1y5FrvRj8xkyBLuPWG+x+1WBGX3/GNE5FFxMdkrqWsML7pSPzMd3B8WMME8cLmErTrrQp0lX94j3DHh7bh83ai8WkmXforOAEBeqXBrPRSMCXvTWZZZy2czJHkN476w+sgTxehUbdTRE+l0mTcwYfUkicLoCrfDzsbTHRFg3g8g4kuxwNMHEO+B3at8fbLr0eS2X1dseB6Wbez1RhvSJkIEpGpG8pyLUMtc1ip3KQuPvVL7G0BPMWJU1jql6QDqGMVizhaaoZNhsrgo4MxC4T+TkrRxGWjoJKv6dkaXr1+Z/j8tmhLG6Ylqxk/G5U39ixAk4KGyWDmbbscPPukJevDSHUVr9Uc36xZ3O3pmX9zDoUuvBn4+Gma3snulghtlAvP4MGUepVnWUvfnoBCKr8M3pNJY8NcAZyKkKz+zakIuge/XGyR6xw8RbO+Dmfu72F2z2j8qhmWiOZ+TsBnja4JRn3MDcUntuoo5l1UrWb+eXeNgLJDcG4rGn7zXYOHDMVoHZGF9jpzdaO35j778Vf+mO+wiV0rtpmJNNHXVTjVcwfXUgMGfYSu2yfr9YATqzkFnXYVH0aVqHTLY7OwvaFeX8Oe6cfRYZ9L/FRwsPRp3vfppO9oSsPJWdoaUmtXjyfQpDjUpFzPXe7B07bsB09FnueZkVd/+EzVvUaeK1Mb3iVAO2skw8d6gwkgT8VPN7R9MdBtz1TQN56BV0ZlcAPMisPUj0lX+qYDbUqPIT8BgsiFwc4GpiJjHWChjdV3P7iTgOYw64RvT+xNiXyo484WbrHCsITEqFaeZWTcub+VA0xRWJsOJAIuM2+FWedoWsBwaquG6TFDUjZ6qL9t5yaiN+RHX3YsXdZpSfDBtOXpZfCawQ5fe40oHhMxEjJDvGYtTqpqux7luu6bL5EFBbWcr5xh2KGIvsCNJtJWTx2cNXX98kin/ImoFa0GKQM3DSEPmyNQCj18gw7Jj978cu8FHZHK7T0I0ciMG444jgXRbqIlJ53iAOKhh93G0C7ryOy9HTlD4Fqi6sv3nI2dUAZ7OtZwHigTxBa7fgpj10mlwJ64nxPGMJduwaHumv9QAAYZkFT26jEBV4cgVGWy3E+q1LkyjE9vLFuBwnd9QQgknzS+k7b4ZhzIBphmHxq+sogzB3l58LcuYW2nUkc8cDw8lmGsSkEcNtFN8gSn8fSeHzZihTurtnD8j+9MfZp52zbPe4/4Cww9d5f1ulZBlZDP4cN6StN117kcj9BPkQm6bd6/pJPnB7o3yh0vsoTdkh7DRE5oGowFyn968ojYZE4ujqE1VI5aNz2oXiENh1ZXx3HLmDZaX0jnxpIw2Nbf1YU0FuG0oP1XRULaNJkcHAyFI9agT/b7TOXwDu4helVQ3yDm+bFq+KsaqA0FeA6D1AD2PD7mM2BNC1ygTsp2pn5AIafNx4phjO7z/e41MynljnDyE1X0AiatsDOh1b/BSqojwwt1U79pO7t2c+SL+XQ6xZt4921PrbiadbwZWaDLb/Y94zlcIdVKCI3eACuDA1gUujmr0QHJCHP++ITjps1NVeGdhqoRvo0UUnTYTtJqEPvmId37VIyn813lbOwjcsTRILFOA003kLKo+Z2GG3dncZupWISIIDihEL5/n7CjT8UDjrdYD654+7hyZocwY+9byIQY/fxZ1nyGLzwIssaWy+rEgg6Q03IWLMKF+Gp0IhGUPjQMzXkbbHsmbJqjvAdgzadr8vTuKSbaAj39Rw0gpuFHBgpgKiNAzCFuzanERWs7o77Z1MQMHisksz/ZlQgOYAAJBfKBpzkZsTwzc6eXE+S0bltXoP719dZSJweed+5abBA97NtsTvOFZFVohd0una5rHpdaq5+jel/IDV/vz5o81czU9EqgomW/9LrvWSHPCjqJB1Z28kK5nf2Wt9jDsq6Yp5wKdurfQ/YQ4QbWXMauZkfuBeMyBRhog4Tl8MMwj0ZUhWHVcypU7+xOaFzJ66hKOoopM0OC+/4JlazoPgGqP5fTiB6EUq+e27j0MwXy/+jJz85YLQSZ6OR3OwkJdyK0Vh4rx86lnis15r069QD+jOUQ7PPhlvTMKYhsLeyzWP5cArtVu7+z3jyssdy2yy3glMct//27Wvr8ss81Q/o+DjZSoH4hQPCkM7G9p4Zy6e215G8vmn+xEGmK0T6auZB66GR9Uqaz1S1Uqh7alk5f19/PLy7sBMWWpY98yLAmQzIara8hqxk6c/TEQ5pKQg/mCYAFY4nuB7RKNClKyTMviOfygiNS6NdojkwAeuBeCXTfA41TXXOZe3iIUxBf+KNSZWYUhbfj3lhgKkXZECQT7lbkbIlZfgzKaQv6J4mCAmvn7OdUyR52yeTRALUzvriGNLXa8Z2jiEcHUN59edPkS/NlawGr5qmDRaJ72J3aVXJFQiKPfLqTEQGx67wGXDaWXwG6qMDoUhMFHejliMbzgQHlIvCxqx5/pS+TMeStkrK2Z/ma57aXx+KUtKPoAEhN0HcIckBPFWlWHlD9aQyMkwEYwgWAfTTxES5s0M63/m1q9bebwDCKl1iS/L8X1YF/dzo85C0pPy7nRXNNVvF9rWTEwQc2f5seIGLmuqB9L9rJAwDYrlEMoxtH25yw535hdNXt3TCr/oIxra0DwEbX6vJiiCv/+YnWGkvg5zhjE0Eba7NLrsrDYGAA4f0+ddvia0puzuErsCKaVhlqlzbGOHMLQt1msTFxzBAIFPaTjj9wUSr2Qtjl6NpQ63/mzW9+DAoseyxLwWAaImGPp6VIsFHqxwkL4ct0/UFu/G0jNuCHk/U2fsldPvKO9ULYfm37AQLfraHHSIcXQe9nv737OdH24sz81kil+RR6/miKbsHeBhNG99u/1y5IwenZNyX6XDnq79ZuO5990f49tQ7HEBqh9a1MnsCwypNjC1Q2OU0q7/29kpypMQmMFfxmUZBTDsecdjUht2qQf8Yn5HN54wc6cJNoEK8zZw+wHKwmRdci7/tKnhpvTHiTR45iGU1gh0a6F5KvaGYm9wXQuZSIrWBsGIDlbjK8SPSwBVys/qWrKV8XWOO9SqvtbjAxqoLC/cMaYQipthA6qUpcu6y+ZlZmvgwMjR1nsKBndjvieUfTeLinUP1C0IR+VtdklG/Q8a6ziCY+VN64R8U6+qRIk727ECOh6nheFmJKXnO6kqnCsN51LSpMnOVkZdSLUa5F7V1w6ZThsm+Q+C38E5UnJ5Mj0YD12iPmlDO9KzhhyQRnd0bQdYHNACn7YLP77b+MCIuPXpsYYIw1kPKG+daqrKpdi31Gw6HI4VTNmtPV9F9E6FZIJQTx9vrWhQjVW6ADZBw9sA288G/RPaTBeTy98Sr9PPxh7itGNWeMwJVRxKwbRyFS/268plUQuFG4SQQmfhughx0LO9w7xFbnJo9233ROzQPAdnIxowTbXTsSlsrsR1iGOzqUbVQPRpXJOUDMz/yklfrBWktUdteW0E99DrJ+K4BHf0vzttEGrNgHmkg1Y8mtsaYeppvyynzFIhCr3i394LrTJkGHrPKW5rMM9IjUQqMS+BafQkFBdR72npoOP40K1qtjqFUM2KgFDBdTbQdZyornLEiFkwHkGIiVRJa5A3JHt2H94RN+4Y1L+1ST6TIM0j4iHl+OUmR8cwZE2d1cfQWjRtMeYmg68FUEWveL6wCLXGbkDRRjGRZzUqSovLdpCl2hAs8gJR9c7RTyecUt8TVStESbIgcKmyZc1k+3/xn0mrs3fBi83cU5+DhWPhXEA7P29349sMBDwXl62uGqsnlS2i4yiiy1fX8F53XTJNpdCCkeleFwXSgApbd7B8HI3GbbptNOYr+nqo8C5Em0XEBD9pZWrFPLGbQFk1CUDgctuwMk12g+Kf/4D7M5zSbsOedCQZda+Xf91aabRWRheQRI5ft9OxGaN/XbL0IXAXUzaFA7zzyEII3ibeS9RImfbtN/M0XNGQayi6chGLa79kgreB3JGHcXLtFhjhT8kg9+wUpsXgFDjr0J4j6D+MobqIRJ3z8VXnYgSjMcLEZguPBMGvEaCji9eSiykUjuKmfa/1wphdboVWol7Z05FLnbWoapau11Sg3gSNa2695wbm0SdW69tlMZUqUYAM2qF7l3wIZcgZpQ+8UVUM7anw0M9niOdVwjGQ5H24nXVrOTtUhID0lCxKUXwFvvmDnmufEH3/ZylX4cxFLNQUuGrkKKdhIb4OeVqfgMSKWFDDNnUCJl9XMNi6SRM0Sp2JSNm/I5I7d1WV0fmhiwJw492oM+rC88y3y5+PzfmnH/ShRMKn61QDMiImKL20i2ur3EM7D8fP3c7zY5GdRw7TssjqYUPiarOSLvrNGg3vkbpVz7KfKm5BXKzL5PhFvZGlnZezVwh/6pwnW1RCS2sX693jXLR98IdfQSbrqvlibfez7O6MUb+wq/FDxOeWnKeNV5Iv4j8DMJTO6EiQyS/8uZk2J2Mv2x1q+Jke1x5Frl2/A9diQhWgx04qaBAvNJJxAkLQQQoZiinJeM7Lk3yXEeQXCRAK9eS0CdoVAKtC3Z7gCMVzQWm/MArtLd00K7/DNxQ/m5Hiuk7xSBg8O+Jch19Ew/WlaE7qOJHdD/TV1nrfrrrUU8lXlK5xm8fzrHzkTCisVCWje1FR0y2PeqQplM3pxWyj4mVq8jf6snlSS1HMxnIF1jp6vjtKfulWPJfVfaQaDW4LVPy1L9O46FIpPi5My/y39e7kXyyRn80RF+GY9fd2V8moYRX9FkOuaVqh2asdJMwmgr26qyliQ3TvxuAuFZNioKFQbxTlGK4WdeknTRZYxV0+ymGHTZH8RxShAKLQ3oXu4ERUrcypO2aokhPq10rGgPYWUfAPFQ5N5uvzJmgHvzOQHYDO07UlmzAV2LZHemooPgWVcZt0rTU5C/v3oy4ZsA6rforYe47+7tDu9M6HM1QQRBJ3K7LJZjynHXNi2wxbfZ8CNtwBN1rjaCkAxMRry6u9npFyOdY4ooViIWJe4CSsyyqC6xAqStJqpl5hgBGSOsoXvRmfPYNBUkse++BXuKgyraGsrdXC75Mgz4yBMljv/tknVpNkTlQjdAXcywl6fHGQ4P9sIQBZZE7DLmpOvp/Mj94o1e+/HgZsHWC0nevfXFyae55kMvZ35jiadYMr+ZCmHi5R5Y2hiRiHEf4Rqc3dJwajnL5cgjMPR8Z4QFV/zEEN1P15OI18SCd41HHDnoH69PHwlEj0SRUXtKFk2K/tH4kzfdLv/Z289vknBq+a1i53IJ8zwbM8L/8ZQ5KiGmswddb+wX6YWByAiycuk7mMEMAc73PZcQ0cG2HhcDZ/vUcEdYH4QCrGSVCs8e66DGDCAzNdIFEeFCOSiWoQf+D02o9KoI1IG+ofKxgXjCypwPei9dNJGUKeZwCnKIe+RP8m6c6ElOsTqCEVJVeFV/Hw2xxe/pGcZXFO+Hmrzp5zhi8t6ObEN6zBz5DbgZwsSEF0fOMoDqts2tuvxlQiQZF5uWvOfYJMUjyf2tlU+XrWf/m6v90SDSUKLSI9RV5wtc2S1MOkY/rgjbKTW25oMJ6jNYBojaDMc9Dx9aOICGt1NZ0kUp9ndDoKv5mA/o5uWBSBsKO6MbF6zxGMCprr4bLX/CYgP9E9/OzHWjUFJQ8o/PHSNAXYZoOlifsVH2qO4FGPdyf2oYel/IEIoX9lO7x/O1i0XzxrHw2VeAjSBOibGAI6Jh9aZhHXzEx1t3J9B6kFt3+vRmL6gbnEOCRUE5MAiMBHGGZgTWsRLZ3PK5fC20kgKf7/YvDhJaMMQ0JuZpSyZPxW/EuqBTBpqrpokq5dGitNL+PP5aRgNzEtxQPvP1Cziui9MdsQ5t2glBy77D/m3tRTaVZRj9KHDH5GusUNA84vshMQIK3aC62X2WUK3T579vKX4ozJDfS2mQyX2ur1HBTNUlKDl0H/JQwCqGR4s4jgM2RzmdvvObdD1crqvaDSqOcbaWJyW1WbbjuQeCi/rK3rzuGio5Vkv/jqW5J7BWvX9162/xXdSvIBnBt0aaJs9s1XPr0KF8rURnRcnoIzsZ65ELJHzs3ppG2KHSC3uIPAqgyL070XM+EAfrJxikdeKJhXK5BktXQOQDZ3KzfIoVq4a7M4drcA2YB+LToZLybDLSvi4GZXW8L7D6sMvpDSBQL+KE0XBJA45EPMWaDeiXSoATJH/6Yr4tvs994/XTRdbEy6sT8Ffm4tbPNnDRD3SSxAsQoUbSnQ/0USBUHL9auYfL9gHbN0b8qRRIFfNDLIcG8R1hkdZmVILrHO2BM9x5NxF+w/ObH6rYpA4/KUu8iwy0WsZ5g8KJfsfTmNZe7Rk0b1dTkFZvBSkAmfB2XzcBh+74vaAIRFcolSl8jopsDN0V5O+zmKLEmkzG8lo5x0mHfzdXuLdo12NiDAgW+r97yqaD4i7y+cXoPD9ZYobPCQPfP61tgOn/tpluDrwp50GT0Cyqrs7aOsPq8aor6bDzE9gul+u1S4xKC2SmoUG1UZPFocVAR7vwsjG8kavUacRVQYgTYqt5YYM/kU5OSuvAvYGWajuj5g9/U9NzvV4KLJ/OkQMyFNJKW1RcorJgAnr5EsuUkfN7lVca+zShgic7eV0VCnKMEsKGkia1b81FexOwHN1BsF2iDDXUrmIpPtzjK6YqV/WFF4KHz0Sz1Elucj9traFHha5GfTDwP3L6SYO32a43aNLLb4OuudZZFV+PN9da8ZxEQsYVDUyHKwEfsgBx2Kpm/QQiVu7wN15+yn7m0X/nejWYwa6bk4qrjeKLAiG9rvoQT3CuWzjuOJHnheg+58Vgq3LGB8/Fwa8nDyO01xE5rsWnbu9OJanSqCRh/EhP569pDAVL9QfO/EOZ7LnAvAKCIGJBL0qgnN3skUX5HEIqCA+KJXIrlYuhLqpxqN+1cE73HxSepBgjbuJCzD2Zmzw/IrBw7P4LSe1I3Rkc5xvCMglrWJLnppZa11E9la6aY2vigrOHSb7wfy25TovVpqkWlctltTi+OmfxZJYD/D3toL/Nk1ffkw5btZHhbqW+rh1meIuzCTabzYbvlDlodf9jOZibYb0HON8dFqihPUITEtbNLrSaXbulKukVNOqPo2Pm9melMZSQRKjK5jiIS1JDCOQrAeO1yqZdW4M4y+f7i5MXOCUWCi/4kNbYawfWniXO+3R2Sgm7VXMVsK1HloWRBCQepCcYdk/2s36HSp7CadtAAcbgM9ToZA8XI9ZK0TJhk+z/1UFqlubYacME2/HLNXCDaNSBC5IVvsk8xv2M2E03BjvFRJTDHhCtm3vzSEYQ7o9a0v9IdypStUx6uTOBLlwUaoHaJNWQMsvek7t8hujQP+V1cmY5zJtc8N9B9a2T2A0oIMMPFN8tsP6+mXuxoYZu/lOzre+pJFinLMbdyFkKsu7Qv74Ae1zHOub4hIo0lNP6ZDDGMElg634om//tGUGe3zEXU6hqzjptygZWUVqRPCtsXzKqsIP0GcnDAFxff9p+M2n81kWBGdNDhp0evf7YKdnLfaCA7PprSY5ja+Hs7H9JvsHlEiGWydKS2sA2+8UNsBdcXn09faakusl6Pdg7IXU0d3Qge9k+yVh/rqdNTovBO1JgmDp2vtuxb6Dplko9EOKrHoBih3jt9F8W6jX+AtUx3FSk5ue/Mo9VoOnpQxpvZReb81d0Ewa+MI3cdFDv1qF9rMpf6tKI2peMxLfmyFwL/ls3S10qBk9lNAegHxELAu8vdmjLkj76ACo5dc2/QBmuv2oH019mpjw0/CuNcMNgslutjX0Ate8LhVpkdk5YJ3uwWQI8rCjwXp0kUr7in0Ky9ID7kf8wCj3Vq+5DSwAB6Q+UbEviNIhR9EDU2guHC4B86YCipwXHwhX5lR85LbdPth63p8OPqwxvBAAejwyKR1+Cq2yiq47sQHc4pSWDIe3pfPRYXZ5NtMxXSrIo7xWZnbQdoY6F58FGCpzDK7ZmQMaTWcdgTi48dJHXT3/BW3oOttfCheP1nNfNXmczWCMNZ2+0poUh3HZSap6E9Dv15GyLQzqZ9DlXQy3g6gnyaO8Vg0q9gZQBPrG11n614iFw/VlPUHfb/da1nh3NT+q6o9oB9p59Du/BlM0sWljPHXOhxcL0WKtY28clts1YI/cVeIF5QyHNOKeICbczJjunpNGNSaRU97B7+nUFfrmTO6Qc0NoVhFJbK1y6HcMxydI8Enl999GAet4Mgrcpfba/p/RZc2b9VpP/WlY/y9pdeSjcspdHDljbO/pKjcza2bE4PpZD0o8kLA5jF4DkAocxQfD4UbqTGc5Y5TfgO5SsC+jaTdgZ35flg/YxgIVUv5pHYPy/NbR7awcQMQ+tjgqVTi6aJYddzL4zGdn77gV2lFE/MmyC7wx/Suw5GxDRfOMM+nsfi20nKmDShyr9jEmWmj+curgHZOOzTrS5l4gsBIX8QeaVMTLosoSGzTb/WTZnIzlmwqDHooQaXoDJCjxgk6e1enJulZFkicxBP0X1RGDaoeg9IaQAc42CcroBdbbx6PpI5Fgxd9+I8PL1t4awHqc/pX8OjkULZ0RkEYH/WuQXz4Z3m/NW+KWnGCrL2WqySN8TcCKZa1mZPRsbIqDP+wVXf5zcbiJg/yfNFNTqZ5MLinYvuzIoUwzdkKmx+MwsgWKH6OZ+kyJ/D7YvSelhcgdjpTlQU2b3mAbIpDJJXby6ISVVbVtIh10J1Wc2oOVRGzt6TvgxTcq9ev3cg80k6c4VHfHwGx4MJwfWsyj5A5n0RfEEeewOgg3YCSA/yaobotap4vhAXyp30XsCv3qiNLdtpsyA1ZagKP23RSD2n29bK7Kp2yd4LYFxVUqHeTNpYMt/HOS7cT0f7xeMRQLVN1UnPqxe6BoPKFfEOzzmnwXpqps7I1gQxF0YMmTYsWb/yp7x/C4wgfug+50YTZRoHeb0o3XSwZGfIh9zO9qoEMxDBMRthEPVwJs6eXUkgm2PxSPzXuWDszyIh61F9V6dfhpjpCfauWxZ7aHC5xiDQay61ouu5K5mRbuE0MYLVgD/DbQmPCyH0kkCxnExgtSl5EhqdO5VtSk14cMP1GFrTB0kegiCqaTSN+2hRR6ESL3dL3aw1p6tgsSxaBXQL0isNzG4++iXOpiZ6z/8BOQpqprUoecKn0S2aNT60MbUk6DXvWuDiOmWqwOpczKf+uozMRH3RYc7ZK/hqGhkRmUZpGc6kJ74Rh1waf+iZs5q/9vV3xC8NQmejBixRm8UK20Z6+exYE2gd+uHW/pEAUvO4WnYFvcHwu3MQGD4/VgNaqBj0T6cwPHwBLLyCciCYL8CDf9C3zKklz45X06iiEbwvE+HqmboCRqdUnmxoTub4wxfCIUfGQApsfOULAp11Zs3ICjkX0xl43od5WDq8KJvU7Qa9PtltkpFAttRe7w514dzvsfZ92p5ogjokjGJkRv3cB48/WyhHY29ZcjfgRLiQU7RAzN4aFd3IGt1qTQfedOdQBKPrPdes747v6tWqlk2Jh/QRKVwbn/OjB1kQ7QWt1CH4Et5hai1nstwKDzW3Em9TgfcoXobSlzDWHJO9ScHxVBpGTREjaC6N7PzUN52LfL9Vpa73wsxKVOwDXlIRtw3pYbCVkXk7NiZ0JU6JOct2CQPO+Vxt+Ix2rA2c3E1Fy62jboO6u11bq4c9Z38v80EApwCOuXqypEgFrXXFkMo3H9D9eVEP6O7nh7cYDh/ytAYzXI5uQDVNCt0/jMelSSiQQYiiUEMZUVCLylqPA/KxefeV6tKGdf3HWVOxYuoNAg/vodR9sOVah3civR1hDsItz4KfT14W9qrD+7uJORFy1R4jX2yCCr5oYju+CDh+HXscEBSKOKdf+q7hvK/WMqgHggvouy5gF1opusHLuDIYQTY5clSwPYa4EyeN+1XM22vMnLw50oOi8HNhtkXS9DwRElLPaKmFy+uRNaKdfAsB4zBd+HwtY7mc5CXnw4a2nmlHBDwST4CXaeF82gI6e/5ZsUG/vlnFn27BiU1RCnIjIssV4bLKVYyP2efTpiqRpNe6TEp3a+Atl14EFUhdJC3wmrajB9gzrZih4zF1vi4Stn3Cdt2NKzmdNvvnxz79Ojqh9xajDBSizGrQirZqn7W1gqtYfuppHy0/ImWIelbbYfmHaUx/2L1y6zuxjYlrdByOgPVt5kn2d/fDyReGvze2m/Oqjy41sdRcAF2ovccAuW+PqARcJqoJLG9dfd1ifWvBw9v05dONVkEv5jOoSu1w5+TY8uT5tHHYs1a9/oym3JExz4TMmjzKknVBA03fpsSkf/tCPKgIXEIAP24FZNkbw7bbC+sjFWTazEX9zziNLhFp4lqBcwhUOybwt0lgoFs/YN9cbwW7MGVQaSmidNGjaQYLh03zXld/Qnnt7HpBus0DOQsvuORVd+sCmvNw9P31/cXYyqybGPKVFw/P6bSXzpIaDPpmnkBbSNyeArHBba7hsnAupItOvmHut8Zu2FBzpK4eLlQ+HaKnGQhIwUDYhGkPorxj24XNgEjoWS61nAhP2MLhX2kPI3V7FIvU5aNbedZeZQClmJUmA9w7By0fzJgVGM/1TOEhrsCC0Z6gTmZ0B13zx86St+bGW8wkxFXQVBJdtHsXir0FdEAAMy0s+JuOclkndngimG+lI/CnWRvJ8NFnrvlV4mJPo9CyxmxUoVjLoOstYha5nRy4fm5cHXKKCYMafOq+0XT1GUi8sVKZgOBXhezzyz85yigCBTVtIqR/+1CzM6oLc5xGOYLR2FM4vqyzIWv5Sqd6mzD+eIn79b32i14fahfUQFZcdzJk6/lzIqDZ6XMBQryQH1YELyq4E5L0eJ2+H4rKqerpypQx
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络安全/" rel="tag"># 网络安全</a>
          
            <a href="/tags/AWS/" rel="tag"># AWS</a>
          
           <a href="https://book.xd10086.com/categories/%E9%BB%91%E5%AE%A2/" rel="tag"># 黑客书籍</a>
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/24/88_FRP搭建/" rel="next" title="FRP服务器搭建">
                <i class="fa fa-chevron-left"></i> FRP服务器搭建
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/26/91_crontab使用技巧/" rel="prev" title="crontab使用技巧">
                crontab使用技巧 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    <div class="post-spread">
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<img src="https://i.imgur.com/0ivBlsQ.jpg" alt="知识星球">

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://i.imgur.com/luMBjvD.jpg" alt="vsyour">
          <p class="site-author-name" itemprop="name">vsyour</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">150</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">29</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">69</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vsyour" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vsyour" target="_blank" title="新浪微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  新浪微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/vsyour" target="_blank" title="FaceBook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  FaceBook
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.vksec.com/" title="Openresti" target="_blank">Openresti</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.vsyour.com/" title="Blog" target="_blank">Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://vksec.com/2018/01/29/23_vksec_操作记录/" title="操作记录" target="_blank">操作记录</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://shang.qq.com/wpa/qunwpa?idkey=c3e0580ecf8d705036d1901d44121f3b4e2c3b6a4ad7b417e968784345b01380" title="QQ群" target="_blank">QQ群</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vsyour</span>
</div>


<!-- <div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>


<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://vksec.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.identifier = '2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.title = '记AWS一次错误操作的恢复过程';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://vksec.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      $('#local-search-input').focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            var resultItems = [];
            if (this.value.trim().length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCountInArticle = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword, i) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCountInArticle = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  var resultItem = '';

                  function highlightKeyword(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;

                    var matchText = text.substring(start, end);
                    var matchResult = [];
                    var prevEnd = 0;
                    while (position + word.length <= end && index.length != 0) {

                      // highlight keyword

                      var wordBegin = position - start;
                      var wordEnd = position - start + word.length;
                      matchResult.push(matchText.substring(prevEnd, wordBegin));
                      matchResult.push("<b class=\"search-keyword\">" + matchText.substring(wordBegin, wordEnd) + "</b>");

                      // move to next position of hit

                      index.pop();
                      prevEnd = wordEnd;
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (prevEnd > position - start) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    matchResult.push(matchText.substring(prevEnd));
                    return matchResult.join('');
                  }

                  // sort index by position of keyword

                  indexOfTitle.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  indexOfContent.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  // highlight title

                  if (indexOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, 0, title.length, indexOfTitle) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  // highlight content

                  var resultUpperBound = parseInt(1);
                  var withoutUpperBound = false;
                  if (resultUpperBound === -1) {
                    withoutUpperBound = true;
                  }
                  var currentResultNum = 0;
                  while (indexOfContent.length != 0 && (withoutUpperBound || (currentResultNum < resultUpperBound))) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    resultItem += "<a href='" + articleUrl + "'>" +
                    "<p class=\"search-result\">" + highlightKeyword(content, start, end, indexOfContent) +
                    "...</p>" + "</a>";
                    currentResultNum++;
                  }
                  resultItem += "</li>";
                  resultItems.push({item: resultItem, hitCount: hitCountInArticle, id: resultItems.length});
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.hitCount != resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultLeft.id - resultRight.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result, i) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              $resultContent.innerHTML = searchResultList;
            }
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
