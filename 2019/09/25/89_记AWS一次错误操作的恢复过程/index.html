<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">





<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="网络安全,AWS,">





  <link rel="alternate" href="/atom.xml" title="Openresty Python LUA" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="请输入密码,有问题请加QQ群:397745473">
<meta name="keywords" content="网络安全,AWS">
<meta property="og:type" content="article">
<meta property="og:title" content="记AWS一次错误操作的恢复过程">
<meta property="og:url" content="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/index.html">
<meta property="og:site_name" content="Openresty Python LUA">
<meta property="og:description" content="请输入密码,有问题请加QQ群:397745473">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-25T06:05:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记AWS一次错误操作的恢复过程">
<meta name="twitter:description" content="请输入密码,有问题请加QQ群:397745473">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">





  <title>记AWS一次错误操作的恢复过程 | Openresty Python LUA</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Openresty Python LUA</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">QQ群:397745473</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="vsyour">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://i.imgur.com/luMBjvD.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Openresty Python LUA">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                记AWS一次错误操作的恢复过程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-25T03:03:03+08:00">
                2019-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS/" itemprop="url" rel="index">
                    <span itemprop="name">AWS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/25/89_记AWS一次错误操作的恢复过程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/25/89_记AWS一次错误操作的恢复过程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="请输入密码,有问题请加QQ群:397745473">
    <label for="pass">请输入密码,有问题请加QQ群:397745473</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络安全/" rel="tag"># 网络安全</a>
          
            <a href="/tags/AWS/" rel="tag"># AWS</a>
          
           <a href="https://book.xd10086.com/categories/%E9%BB%91%E5%AE%A2/" rel="tag"># 黑客书籍</a>
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/24/88_FRP搭建/" rel="next" title="FRP服务器搭建">
                <i class="fa fa-chevron-left"></i> FRP服务器搭建
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/26/91_crontab使用技巧/" rel="prev" title="crontab使用技巧">
                crontab使用技巧 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    <div class="post-spread">
<img src="https://i.imgur.com/0ivBlsQ.jpg" alt="知识星球">

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://i.imgur.com/luMBjvD.jpg" alt="vsyour">
          <p class="site-author-name" itemprop="name">vsyour</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">104</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">60</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vsyour" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vsyour" target="_blank" title="新浪微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  新浪微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/vsyour" target="_blank" title="FaceBook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  FaceBook
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.vksec.com/" title="Openresti" target="_blank">Openresti</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.vsyour.com/" title="Blog" target="_blank">Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://vksec.com/2018/01/29/23_vksec_操作记录/" title="操作记录" target="_blank">操作记录</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://shang.qq.com/wpa/qunwpa?idkey=c3e0580ecf8d705036d1901d44121f3b4e2c3b6a4ad7b417e968784345b01380" title="QQ群" target="_blank">QQ群</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vsyour</span>
</div>


<!-- <div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>


<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://vksec.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.identifier = '2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.title = '记AWS一次错误操作的恢复过程';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://vksec.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      $('#local-search-input').focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            var resultItems = [];
            if (this.value.trim().length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCountInArticle = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword, i) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCountInArticle = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  var resultItem = '';

                  function highlightKeyword(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;

                    var matchText = text.substring(start, end);
                    var matchResult = [];
                    var prevEnd = 0;
                    while (position + word.length <= end && index.length != 0) {

                      // highlight keyword

                      var wordBegin = position - start;
                      var wordEnd = position - start + word.length;
                      matchResult.push(matchText.substring(prevEnd, wordBegin));
                      matchResult.push("<b class=\"search-keyword\">" + matchText.substring(wordBegin, wordEnd) + "</b>");

                      // move to next position of hit

                      index.pop();
                      prevEnd = wordEnd;
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (prevEnd > position - start) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    matchResult.push(matchText.substring(prevEnd));
                    return matchResult.join('');
                  }

                  // sort index by position of keyword

                  indexOfTitle.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  indexOfContent.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  // highlight title

                  if (indexOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, 0, title.length, indexOfTitle) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  // highlight content

                  var resultUpperBound = parseInt(1);
                  var withoutUpperBound = false;
                  if (resultUpperBound === -1) {
                    withoutUpperBound = true;
                  }
                  var currentResultNum = 0;
                  while (indexOfContent.length != 0 && (withoutUpperBound || (currentResultNum < resultUpperBound))) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    resultItem += "<a href='" + articleUrl + "'>" +
                    "<p class=\"search-result\">" + highlightKeyword(content, start, end, indexOfContent) +
                    "...</p>" + "</a>";
                    currentResultNum++;
                  }
                  resultItem += "</li>";
                  resultItems.push({item: resultItem, hitCount: hitCountInArticle, id: resultItems.length});
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.hitCount != resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultLeft.id - resultRight.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result, i) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              $resultContent.innerHTML = searchResultList;
            }
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
