<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">





<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="网络安全,AWS,">





  <link rel="alternate" href="/atom.xml" title="Openresty Python LUA" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="请输入密码,有问题请加QQ群:397745473">
<meta name="keywords" content="网络安全,AWS">
<meta property="og:type" content="article">
<meta property="og:title" content="记AWS一次错误操作的恢复过程">
<meta property="og:url" content="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/index.html">
<meta property="og:site_name" content="Openresty Python LUA">
<meta property="og:description" content="请输入密码,有问题请加QQ群:397745473">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-25T06:05:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记AWS一次错误操作的恢复过程">
<meta name="twitter:description" content="请输入密码,有问题请加QQ群:397745473">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">



  <title>记AWS一次错误操作的恢复过程 | Openresty Python LUA</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Openresty Python LUA</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">QQ群:397745473</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>

<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="vsyour">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://i.imgur.com/luMBjvD.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Openresty Python LUA">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                记AWS一次错误操作的恢复过程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-25T03:03:03+08:00">
                2019-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS/" itemprop="url" rel="index">
                    <span itemprop="name">AWS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/25/89_记AWS一次错误操作的恢复过程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/25/89_记AWS一次错误操作的恢复过程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="请输入密码,有问题请加QQ群:397745473">
    <label for="pass">请输入密码,有问题请加QQ群:397745473</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络安全/" rel="tag"># 网络安全</a>
          
            <a href="/tags/AWS/" rel="tag"># AWS</a>
          
           <a href="https://book.xd10086.com/categories/%E9%BB%91%E5%AE%A2/" rel="tag"># 黑客书籍</a>
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/24/88_FRP搭建/" rel="next" title="FRP服务器搭建">
                <i class="fa fa-chevron-left"></i> FRP服务器搭建
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/26/91_crontab使用技巧/" rel="prev" title="crontab使用技巧">
                crontab使用技巧 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    <div class="post-spread">
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<img src="https://i.imgur.com/eGNMc8d.png" alt="知识星球">

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://i.imgur.com/luMBjvD.jpg" alt="vsyour">
          <p class="site-author-name" itemprop="name">vsyour</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">203</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">72</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vsyour" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vsyour" target="_blank" title="新浪微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  新浪微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/vsyour" target="_blank" title="FaceBook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  FaceBook
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.vksec.com/" title="Openresti" target="_blank">Openresti</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.vsyour.com/" title="Blog" target="_blank">Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://vksec.com/2018/01/29/23_vksec_操作记录/" title="操作记录" target="_blank">操作记录</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://shang.qq.com/wpa/qunwpa?idkey=c3e0580ecf8d705036d1901d44121f3b4e2c3b6a4ad7b417e968784345b01380" title="QQ群" target="_blank">QQ群</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vsyour</span>
</div>


<!-- <div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>


<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://vksec.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.identifier = '2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.title = '记AWS一次错误操作的恢复过程';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://vksec.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      $('#local-search-input').focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            var resultItems = [];
            if (this.value.trim().length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCountInArticle = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword, i) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCountInArticle = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  var resultItem = '';

                  function highlightKeyword(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;

                    var matchText = text.substring(start, end);
                    var matchResult = [];
                    var prevEnd = 0;
                    while (position + word.length <= end && index.length != 0) {

                      // highlight keyword

                      var wordBegin = position - start;
                      var wordEnd = position - start + word.length;
                      matchResult.push(matchText.substring(prevEnd, wordBegin));
                      matchResult.push("<b class=\"search-keyword\">" + matchText.substring(wordBegin, wordEnd) + "</b>");

                      // move to next position of hit

                      index.pop();
                      prevEnd = wordEnd;
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (prevEnd > position - start) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    matchResult.push(matchText.substring(prevEnd));
                    return matchResult.join('');
                  }

                  // sort index by position of keyword

                  indexOfTitle.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  indexOfContent.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  // highlight title

                  if (indexOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, 0, title.length, indexOfTitle) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  // highlight content

                  var resultUpperBound = parseInt(1);
                  var withoutUpperBound = false;
                  if (resultUpperBound === -1) {
                    withoutUpperBound = true;
                  }
                  var currentResultNum = 0;
                  while (indexOfContent.length != 0 && (withoutUpperBound || (currentResultNum < resultUpperBound))) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    resultItem += "<a href='" + articleUrl + "'>" +
                    "<p class=\"search-result\">" + highlightKeyword(content, start, end, indexOfContent) +
                    "...</p>" + "</a>";
                    currentResultNum++;
                  }
                  resultItem += "</li>";
                  resultItems.push({item: resultItem, hitCount: hitCountInArticle, id: resultItems.length});
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.hitCount != resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultLeft.id - resultRight.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result, i) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              $resultContent.innerHTML = searchResultList;
            }
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
