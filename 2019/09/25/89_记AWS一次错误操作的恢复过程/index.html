<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">





<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="网络安全,AWS,">





  <link rel="alternate" href="/atom.xml" title="Openresty Python LUA" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="请输入密码,有问题请加QQ群:397745473">
<meta name="keywords" content="网络安全,AWS">
<meta property="og:type" content="article">
<meta property="og:title" content="记AWS一次错误操作的恢复过程">
<meta property="og:url" content="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/index.html">
<meta property="og:site_name" content="Openresty Python LUA">
<meta property="og:description" content="请输入密码,有问题请加QQ群:397745473">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-25T06:05:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记AWS一次错误操作的恢复过程">
<meta name="twitter:description" content="请输入密码,有问题请加QQ群:397745473">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">



  <title>记AWS一次错误操作的恢复过程 | Openresty Python LUA</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Openresty Python LUA</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">QQ群:397745473</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>

<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="vsyour">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://i.imgur.com/luMBjvD.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Openresty Python LUA">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                记AWS一次错误操作的恢复过程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-25T03:03:03+08:00">
                2019-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS/" itemprop="url" rel="index">
                    <span itemprop="name">AWS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/25/89_记AWS一次错误操作的恢复过程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/25/89_记AWS一次错误操作的恢复过程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="请输入密码,有问题请加QQ群:397745473">
    <label for="pass">请输入密码,有问题请加QQ群:397745473</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络安全/" rel="tag"># 网络安全</a>
          
            <a href="/tags/AWS/" rel="tag"># AWS</a>
          
           <a href="https://book.xd10086.com/categories/%E9%BB%91%E5%AE%A2/" rel="tag"># 黑客书籍</a>
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/24/88_FRP搭建/" rel="next" title="FRP服务器搭建">
                <i class="fa fa-chevron-left"></i> FRP服务器搭建
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/26/91_crontab使用技巧/" rel="prev" title="crontab使用技巧">
                crontab使用技巧 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    <div class="post-spread">
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<img src="https://i.imgur.com/0ivBlsQ.jpg" alt="知识星球">

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://i.imgur.com/luMBjvD.jpg" alt="vsyour">
          <p class="site-author-name" itemprop="name">vsyour</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">189</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">72</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vsyour" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vsyour" target="_blank" title="新浪微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  新浪微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/vsyour" target="_blank" title="FaceBook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  FaceBook
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.vksec.com/" title="Openresti" target="_blank">Openresti</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.vsyour.com/" title="Blog" target="_blank">Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://vksec.com/2018/01/29/23_vksec_操作记录/" title="操作记录" target="_blank">操作记录</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://shang.qq.com/wpa/qunwpa?idkey=c3e0580ecf8d705036d1901d44121f3b4e2c3b6a4ad7b417e968784345b01380" title="QQ群" target="_blank">QQ群</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vsyour</span>
</div>


<!-- <div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>


<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://vksec.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.identifier = '2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.title = '记AWS一次错误操作的恢复过程';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://vksec.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      $('#local-search-input').focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            var resultItems = [];
            if (this.value.trim().length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCountInArticle = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword, i) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCountInArticle = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  var resultItem = '';

                  function highlightKeyword(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;

                    var matchText = text.substring(start, end);
                    var matchResult = [];
                    var prevEnd = 0;
                    while (position + word.length <= end && index.length != 0) {

                      // highlight keyword

                      var wordBegin = position - start;
                      var wordEnd = position - start + word.length;
                      matchResult.push(matchText.substring(prevEnd, wordBegin));
                      matchResult.push("<b class=\"search-keyword\">" + matchText.substring(wordBegin, wordEnd) + "</b>");

                      // move to next position of hit

                      index.pop();
                      prevEnd = wordEnd;
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (prevEnd > position - start) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    matchResult.push(matchText.substring(prevEnd));
                    return matchResult.join('');
                  }

                  // sort index by position of keyword

                  indexOfTitle.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  indexOfContent.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  // highlight title

                  if (indexOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, 0, title.length, indexOfTitle) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  // highlight content

                  var resultUpperBound = parseInt(1);
                  var withoutUpperBound = false;
                  if (resultUpperBound === -1) {
                    withoutUpperBound = true;
                  }
                  var currentResultNum = 0;
                  while (indexOfContent.length != 0 && (withoutUpperBound || (currentResultNum < resultUpperBound))) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    resultItem += "<a href='" + articleUrl + "'>" +
                    "<p class=\"search-result\">" + highlightKeyword(content, start, end, indexOfContent) +
                    "...</p>" + "</a>";
                    currentResultNum++;
                  }
                  resultItem += "</li>";
                  resultItems.push({item: resultItem, hitCount: hitCountInArticle, id: resultItems.length});
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.hitCount != resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultLeft.id - resultRight.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result, i) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              $resultContent.innerHTML = searchResultList;
            }
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
