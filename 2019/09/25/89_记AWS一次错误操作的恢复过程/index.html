<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">





<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="网络安全,AWS,">





  <link rel="alternate" href="/atom.xml" title="Openresty Python LUA" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="请输入密码,有问题请加QQ群:397745473">
<meta name="keywords" content="网络安全,AWS">
<meta property="og:type" content="article">
<meta property="og:title" content="记AWS一次错误操作的恢复过程">
<meta property="og:url" content="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/index.html">
<meta property="og:site_name" content="Openresty Python LUA">
<meta property="og:description" content="请输入密码,有问题请加QQ群:397745473">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-25T06:05:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记AWS一次错误操作的恢复过程">
<meta name="twitter:description" content="请输入密码,有问题请加QQ群:397745473">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">



  <title>记AWS一次错误操作的恢复过程 | Openresty Python LUA</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Openresty Python LUA</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">QQ群:397745473</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>

<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="vsyour">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://i.imgur.com/luMBjvD.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Openresty Python LUA">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                记AWS一次错误操作的恢复过程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-25T03:03:03+08:00">
                2019-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS/" itemprop="url" rel="index">
                    <span itemprop="name">AWS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/25/89_记AWS一次错误操作的恢复过程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/25/89_记AWS一次错误操作的恢复过程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="请输入密码,有问题请加QQ群:397745473">
    <label for="pass">请输入密码,有问题请加QQ群:397745473</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络安全/" rel="tag"># 网络安全</a>
          
            <a href="/tags/AWS/" rel="tag"># AWS</a>
          
           <a href="https://book.xd10086.com/categories/%E9%BB%91%E5%AE%A2/" rel="tag"># 黑客书籍</a>
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/24/88_FRP搭建/" rel="next" title="FRP服务器搭建">
                <i class="fa fa-chevron-left"></i> FRP服务器搭建
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/26/91_crontab使用技巧/" rel="prev" title="crontab使用技巧">
                crontab使用技巧 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    <div class="post-spread">
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<img src="https://i.imgur.com/eGNMc8d.png" alt="知识星球">

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://i.imgur.com/luMBjvD.jpg" alt="vsyour">
          <p class="site-author-name" itemprop="name">vsyour</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">203</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">72</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vsyour" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vsyour" target="_blank" title="新浪微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  新浪微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/vsyour" target="_blank" title="FaceBook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  FaceBook
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.vksec.com/" title="Openresti" target="_blank">Openresti</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.vsyour.com/" title="Blog" target="_blank">Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://vksec.com/2018/01/29/23_vksec_操作记录/" title="操作记录" target="_blank">操作记录</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://shang.qq.com/wpa/qunwpa?idkey=c3e0580ecf8d705036d1901d44121f3b4e2c3b6a4ad7b417e968784345b01380" title="QQ群" target="_blank">QQ群</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vsyour</span>
</div>


<!-- <div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>


<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://vksec.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.identifier = '2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.title = '记AWS一次错误操作的恢复过程';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://vksec.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      $('#local-search-input').focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            var resultItems = [];
            if (this.value.trim().length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCountInArticle = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword, i) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCountInArticle = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  var resultItem = '';

                  function highlightKeyword(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;

                    var matchText = text.substring(start, end);
                    var matchResult = [];
                    var prevEnd = 0;
                    while (position + word.length <= end && index.length != 0) {

                      // highlight keyword

                      var wordBegin = position - start;
                      var wordEnd = position - start + word.length;
                      matchResult.push(matchText.substring(prevEnd, wordBegin));
                      matchResult.push("<b class=\"search-keyword\">" + matchText.substring(wordBegin, wordEnd) + "</b>");

                      // move to next position of hit

                      index.pop();
                      prevEnd = wordEnd;
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (prevEnd > position - start) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    matchResult.push(matchText.substring(prevEnd));
                    return matchResult.join('');
                  }

                  // sort index by position of keyword

                  indexOfTitle.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  indexOfContent.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  // highlight title

                  if (indexOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, 0, title.length, indexOfTitle) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  // highlight content

                  var resultUpperBound = parseInt(1);
                  var withoutUpperBound = false;
                  if (resultUpperBound === -1) {
                    withoutUpperBound = true;
                  }
                  var currentResultNum = 0;
                  while (indexOfContent.length != 0 && (withoutUpperBound || (currentResultNum < resultUpperBound))) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    resultItem += "<a href='" + articleUrl + "'>" +
                    "<p class=\"search-result\">" + highlightKeyword(content, start, end, indexOfContent) +
                    "...</p>" + "</a>";
                    currentResultNum++;
                  }
                  resultItem += "</li>";
                  resultItems.push({item: resultItem, hitCount: hitCountInArticle, id: resultItems.length});
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.hitCount != resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultLeft.id - resultRight.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result, i) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              $resultContent.innerHTML = searchResultList;
            }
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
