<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">





<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="网络安全,AWS,">





  <link rel="alternate" href="/atom.xml" title="Openresty Python LUA" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="请输入密码,有问题请加QQ群:397745473">
<meta name="keywords" content="网络安全,AWS">
<meta property="og:type" content="article">
<meta property="og:title" content="记AWS一次错误操作的恢复过程">
<meta property="og:url" content="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/index.html">
<meta property="og:site_name" content="Openresty Python LUA">
<meta property="og:description" content="请输入密码,有问题请加QQ群:397745473">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-25T06:05:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记AWS一次错误操作的恢复过程">
<meta name="twitter:description" content="请输入密码,有问题请加QQ群:397745473">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">



  <title>记AWS一次错误操作的恢复过程 | Openresty Python LUA</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Openresty Python LUA</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">QQ群:397745473</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>

<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="vsyour">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://i.imgur.com/luMBjvD.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Openresty Python LUA">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                记AWS一次错误操作的恢复过程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-25T03:03:03+08:00">
                2019-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AWS/" itemprop="url" rel="index">
                    <span itemprop="name">AWS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/25/89_记AWS一次错误操作的恢复过程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/25/89_记AWS一次错误操作的恢复过程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="请输入密码,有问题请加QQ群:397745473">
    <label for="pass">请输入密码,有问题请加QQ群:397745473</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络安全/" rel="tag"># 网络安全</a>
          
            <a href="/tags/AWS/" rel="tag"># AWS</a>
          
           <a href="https://book.xd10086.com/categories/%E9%BB%91%E5%AE%A2/" rel="tag"># 黑客书籍</a>
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/24/88_FRP搭建/" rel="next" title="FRP服务器搭建">
                <i class="fa fa-chevron-left"></i> FRP服务器搭建
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/26/91_crontab使用技巧/" rel="prev" title="crontab使用技巧">
                crontab使用技巧 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    <div class="post-spread">
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<img src="https://i.imgur.com/0ivBlsQ.jpg" alt="知识星球">

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
<script data-ad-client="ca-pub-9873623505122626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://i.imgur.com/luMBjvD.jpg" alt="vsyour">
          <p class="site-author-name" itemprop="name">vsyour</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">180</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">72</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vsyour" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vsyour" target="_blank" title="新浪微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  新浪微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/vsyour" target="_blank" title="FaceBook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  FaceBook
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.vksec.com/" title="Openresti" target="_blank">Openresti</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.vsyour.com/" title="Blog" target="_blank">Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://vksec.com/2018/01/29/23_vksec_操作记录/" title="操作记录" target="_blank">操作记录</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://shang.qq.com/wpa/qunwpa?idkey=c3e0580ecf8d705036d1901d44121f3b4e2c3b6a4ad7b417e968784345b01380" title="QQ群" target="_blank">QQ群</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vsyour</span>
</div>


<!-- <div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>


<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://vksec.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://vksec.com/2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.identifier = '2019/09/25/89_记AWS一次错误操作的恢复过程/';
          this.page.title = '记AWS一次错误操作的恢复过程';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://vksec.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      $('#local-search-input').focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            var resultItems = [];
            if (this.value.trim().length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCountInArticle = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword, i) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCountInArticle = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  var resultItem = '';

                  function highlightKeyword(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;

                    var matchText = text.substring(start, end);
                    var matchResult = [];
                    var prevEnd = 0;
                    while (position + word.length <= end && index.length != 0) {

                      // highlight keyword

                      var wordBegin = position - start;
                      var wordEnd = position - start + word.length;
                      matchResult.push(matchText.substring(prevEnd, wordBegin));
                      matchResult.push("<b class=\"search-keyword\">" + matchText.substring(wordBegin, wordEnd) + "</b>");

                      // move to next position of hit

                      index.pop();
                      prevEnd = wordEnd;
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (prevEnd > position - start) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    matchResult.push(matchText.substring(prevEnd));
                    return matchResult.join('');
                  }

                  // sort index by position of keyword

                  indexOfTitle.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  indexOfContent.sort(function (itemLeft, itemRight) {
                    return itemRight.position - itemLeft.position;
                  });

                  // highlight title

                  if (indexOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, 0, title.length, indexOfTitle) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  // highlight content

                  var resultUpperBound = parseInt(1);
                  var withoutUpperBound = false;
                  if (resultUpperBound === -1) {
                    withoutUpperBound = true;
                  }
                  var currentResultNum = 0;
                  while (indexOfContent.length != 0 && (withoutUpperBound || (currentResultNum < resultUpperBound))) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    resultItem += "<a href='" + articleUrl + "'>" +
                    "<p class=\"search-result\">" + highlightKeyword(content, start, end, indexOfContent) +
                    "...</p>" + "</a>";
                    currentResultNum++;
                  }
                  resultItem += "</li>";
                  resultItems.push({item: resultItem, hitCount: hitCountInArticle, id: resultItems.length});
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              $resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.hitCount != resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultLeft.id - resultRight.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result, i) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              $resultContent.innerHTML = searchResultList;
            }
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
